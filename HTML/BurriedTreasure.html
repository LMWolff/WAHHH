<!DOCTYPE html>
<html>
<head><title>Burried Treasure</title></head>
<body>
    <h1 id= "heading">Find the buried treasure</h1>

    <img id="map" width = 800 height =800 src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ1k0FF51A8cBKhbQoT2wIShpICoD-sv_nxhg&s">

    <p id="distance"></p>
    <p id ="click"></p>

    <script src="https://code.jquery.com/jquery-2.1.0.js"></script>
    <script>
        //Variables
        var width = 800
        var height = 800
        var clicks = 0
        var clicklimit = 100
        
        
        //game code
        var getRandNumb = function(size){
            return Math.floor(Math.random() *size)
        }

        // Random target location
        var target = {
            x: getRandNumb(width),
            y: getRandNumb(height)
        }

        // Calculate distance between click and target
        var getDistance = function(event, target) {
            var diffX = event.offsetX - target.x;
            var diffY = event.offsetY - target.y;
            return Math.sqrt((diffX * diffX)+(diffY*diffY))
        }


        var GetDisHint = function(distance){
            if (distance < 30){
                return "LITERALLY ALMOST THERE!"
            }else if (distance< 45){
                return "REALLY CLOSE"
            }else if (distance< 67){
                return "CLOSE"
            }else if (distance< 90){
                return "General area"
            }else if (distance< 135){
                return "okay"
            }else if (distance< 180){
                return "meh"
            }else if (distance< 270){
                return "not good"
            }else if (distance< 360){
                return "Better but still not good"
            }else if (distance< 540){
                return "do better"
            }else if (distance< 720){
                return "come on you can do better"
            }else if (distance< 760){
                return "Still not even close"
            }else {
                return "Not even close lol"
            }
        }
        

        // CLick handler to image
        $("#map").click(function(event){
            clicks++
        
      

        // Distance between clicks
        var distance = getDistance(event,target)
        var distanceHint = GetDisHint(distance)
        $("#distance").text(distanceHint)

        var clickRemain = (clicklimit - clicks)
        $("#click").text("You have "+ clickRemain + " clicks left")

        if (distance < 15){
            alert("Found the treasure in "+ clicks +" clicks")
        }

        if (clicks > clicklimit){
            alert("You have clicked "+clicks +" ammount and didn't find the treasure better luck next time")
            return
        }
    

        })


    </script>
</body>
</html>